language: java
jdk: openjdk8
install: true
script: mvn package
before_deploy:
  - echo "$DOCKER_PASSWORD" | docker login -u="$DOCKER_USERNAME" --password-stdin
deploy:
  - provider: releases
    api_key:
      secure: MxjCHg+FvsfN58o5rGyXbFeF4HCv47Ch87V+LSKp0rXu61lU9zQHKqVQcZAIJtYhDgvGguEBWsbw/yJKupkjTr1f+suqaUmQL9E4T3EjXSO/Obo7tWjklU+01DhJqRy59sAoJuvVIZbYBBDcjm9nxrW5iiZXI6KkpQpZlv0JXVzip0bBOw3+ma8S5hrwhj26aLMNhYd9tzXXXx2W39e/K/nwz1DDheb2WKzmhV18Qq7eDt7pZyY9XP3xn4dwSGS8BWc5RQWfckZa9JzgURlsGkd1XYvHBzSaMDnO4HLA4vsz025IGJsv31xtiJPJnN7JgaYb0YFx1oplXggWGtpk0BDlfqNzrO6BjXzas3Y4N7k2GM6G5dsXos4oJ/QnTbZ5cCBzP+YKOKsu9lz0S0EEctcKfI22eU8TiFhKSEyYeKIFv2tfdTwaPU8t/sLe7NflnFYRxbagx02XBdYoa2ibf30SNcr/vzQ4lV/GfyyLJtJ0bZk6/NsPWkpvA8glCLyUBNwCA/QTc3VjY6z+J+G8MYLmPijNHcOz78DWePeLmWYg0B62YvjW46ZbuqNOQkJ9s7jYOZoG5uKZ+l6lVLmZyySkQkq+uVjnyuwywjZXwqlTAM0LCh8KnXsICpOCuyiplnfrIuMtm5Q8CkNRDAYl9Ecz0bwpO7a9LipcOxwyWiA=
    file_glob: true
    file: hercules-*/target/hercules-*.jar
    skip_cleanup: true
    on:
      tags: true
  - provider: script
    skip_cleanup: true
    script:
      - make services_images
    on:
      tags: true
notifications:
  slack:
    secure: UK+stHPYCJfXrtjFmvRUTDJBwg4NaYWMiy7K5n4V+WA8ndcFeqefLc+NkuHLoaj9hWokeDDq8h5Ah8dVe3uyZ6TSNzSzuwzi7wH6Xy2oAANZoFuguPdy/+T78GrCaDIn9Wh4Qx3rAJsSVC3k6/akxq+Mnlw7vvbkCuvm1fl+oeh8JxM/aXRdxpimwL5zD/AL03jnWdnfcOonkMTmk9Gp/zQObk9RGkcsGRRvGuQd7EUGd8iofugeEySVEPCqfHoiT0PehkXFemE6eWJGd8ZUzUZhSU4heQbz1ZvXCsnqUK8EataEJkjSewChbjvvv2sP7ciOUkfl3bJJl99iAwMz727w7pY7e6Y7uPA9feo5VWOSnSbqYkMfwQWDE/IEbfgzC5XrXrInhG/Fj96QXx+8uI/ULyn9Rlknj6SeFfIGOv0NnTGx6AIW24r1R6qPfICon/7gO8hQs8Mvuj1HcQDo1pUu+xydYZ8SMQ/oubaTmh9DO/BvQTntddQGbbdlkGwhurFQEQuTecAQu1zyxOyIV4boEaLowWi8+hNJcttyz1+crrdu2y3YgVRIyxcrsV1GUI8+KBRlDdQSUCOQ48CTHZL4Ar0Oqmsx43LpmAyT0iE+jm1Cycnn40aCr9JJxBYLN6D2E0hGYCCkfo5b5mbhYnF2EAxvfEKLAnhisk2MmwE=

